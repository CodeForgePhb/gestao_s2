<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
  <link rel="stylesheet" href="css/setor_de_compras.css" />
  <title>Gestão S</title>
</head>

<body>
  <style>
    /* Estilo para o fundo do modal */
    .modal-overlay {
        display: none; /* Inicialmente escondido */
        position: fixed; /* Fixa o modal na tela */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5); /* Fundo semitransparente */
        z-index: 1000; /* Garante que o modal fique acima de outros elementos */
    }

    /* Estilo para o conteúdo do modal */
    .modal-content {
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        width: 80%;
        padding: 20px;
        overflow: auto;
        height: 80%;
        margin: auto;
        margin-top: 50px;
    }

    /* Estilo para os botões */
    .btn {
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
    }

    .btn-confirm {
        background-color: #5cb85c;
        color: white;
    }

    .btn-decline {
        background-color: #d9534f;
        color: white;
    }

    .modal-soli {
    display: flex;
    justify-content: space-around;
    margin: 50px;
  }



</style>
  <div class="sidebar">
    <div>
      <div class="sidbox">
        <a href="#" class="no-active">Docente<img src="./assets/icons/docente.svg" alt="#" /></a>
      </div>
      <div class="sidbox">
        <a href="#" class="no-active">Coordenação<img src="./assets/icons/coordenacao.svg" alt="#" /></a>
      </div>
      <div class="sidbox">
        <a href="#" class="no-active">Gestão<img src="./assets/icons/gestao.svg" alt="#" /></a>
      </div>
      <div class="sidbox">
        <a href="#" id="active">Setor de Compras<img src="./assets/icons/setor-compras.svg" alt="#" /></a>
      </div>
    </div>
    <div class="profile">
      <div class="avatar">
        <img src="" alt="Avatar" class="profile-image" id="img-perfil">
      </div>
      <div class="info">
        <span class="name saudacao">Name</span>
        <span class="func">Compras</span>
      </div>
      <div class="logout">
        <button><i class="fa-solid fa-right-from-bracket" style="color: #ffffff;" id="btnLogout"></i></button>
        <button id="openProfileModal"><i class="fa-solid fa-gear" style="color: #ffffff;" id="perfil"></i></button>
      </div>
    </div>
  </div>

  <div class="main">
    <div class="main-header">
      <div>
        <h2 class="saudacao">Olá, </h2>
        <div class="tabs">
          <div class="tab cursos active" data-tab="cursos">Solicitações</div>
          <div class="tab status" data-tab="concluidas" id="tabStatus">
            Concluídas
          </div>
        </div>
      </div>
      <div>
        <img src="./assets/logo_gestao_s.svg" alt="logo_gestao_s" class="logo" />
      </div>
    </div>

    <section class="content active" id="cursos">
      <div class="nome-com-linha">
        <span class="nome">Cursos</span>
      </div>
      <div class="courses">
        <!-- <div class="loading">
                    <div class="loader"></div>
                </div> -->

        <div class="course course2" id="courses">
          <!-- renderizar cursos -->
        </div>
        <div class="course course2">
          <div class="accordion-header">
            <span style="width: 180px;">Execel Avançado</span>
            <span>Nível C em - análise</span>
            <span class="arrow">&#9650;</span>
          </div>
          <div class="accordion-content">
            <p>Cód: 000001</p>
            <p>Turno - Manhã</p>
            <p>Período: 01/01/2025 à 01/07/2026</p>
            <button onclick="openModal()" id="openModal-solicitacao">visualizar Solicitação</button>
          </div>
        </div>
      </div>

      <!-- MODAL SOLICITAÇÕES DE MATERIAL -->
      <div id="modalOverlay" class="modal-overlay">
        <!-- O conteúdo do modal -->
        <div id="modalKits" class="modal-content">
            <div style="background-color: #0047AB; color: white; padding: 15px; font-size: 18px; text-align: center;">
                Solicitação dos Kits
            </div>
            <div>
              <div class="modal-soli">
                <div class="solicitacoes-modal">
                  <div style="margin-bottom: 20px;">
                    <span style="display: block; margin-bottom: 5px;"><strong>Cód Curso:</strong> 000001</span>
                    <span style="display: block; margin-bottom: 5px;"><strong>Curso:</strong> Técnico em Informática</span>
                    <span style="display: block; margin-bottom: 5px;"><strong>Professor:</strong> Turiano</span>
                    <span style="display: block; margin-bottom: 5px;"><strong>Turno:</strong> Manhã</span>
                  </div>
                  </div>
                  <div class="solicitacoes-modal">
                     <span style="display: block; margin-bottom: 5px;"><strong>Período:</strong> 01/01/2025 à 01/12/2025</span>
                   <span style="display: block; margin-bottom: 5px;"><strong>Modalidade:</strong> Qualificação</span>
                   <span style="display: block; margin-bottom: 5px;"><strong>Linha de ação:</strong> Gratuidade</span>
                  </div>
              </div>
          
                
                <!-- Tabela -->
                <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                    <thead style="background-color: #f4f4f4;">
                        <tr>
                            <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">COD</th>
                            <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Produto</th>
                            <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Quantidade Max</th>
                            <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Unidade</th>
                            <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Saldo</th>
                            <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Quantidade Requerida</th>
                            <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Status</th>
                        </tr>
                    </thead>
                    <tbody id="body-table">
                      <!-- renderizar elementos -->
                    </tbody>
                </table>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 15px; background-color: #f4f4f4;">
                <button class="btn btn-decline" onclick="closeModal()">Recusar</button>
                <button class="btn btn-confirm" onclick="closeModal()">Confirmar</button>
            </div>
        </div>
    </div>
      <!-- <div>
        <div style="background-color: #0047AB; color: white; padding: 15px; font-size: 18px; text-align: center;">
            Solicitação dos Kits
        </div>
        <div style="padding: 20px;">
            <div style="margin-bottom: 20px;">
                <span style="display: block; margin-bottom: 5px;"><strong>Cód Curso:</strong> 000001</span>
                <span style="display: block; margin-bottom: 5px;"><strong>Curso:</strong> Técnico em Informática</span>
                <span style="display: block; margin-bottom: 5px;"><strong>Professor:</strong> Turiano</span>
                <span style="display: block; margin-bottom: 5px;"><strong>Turno:</strong> Manhã</span>
                <span style="display: block; margin-bottom: 5px;"><strong>Período:</strong> 01/01/2025 à 01/12/2025</span>
                <span style="display: block; margin-bottom: 5px;"><strong>Modalidade:</strong> Qualificação</span>
                <span style="display: block; margin-bottom: 5px;"><strong>Linha de ação:</strong> Gratuidade</span>
            </div> -->
            <!-- tabela para visualizar solicitações -->
            <!-- <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                <thead style="background-color: #f4f4f4;">
                    <tr>
                        <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">COD</th>
                        <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Produto</th>
                        <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Quantidade Max</th>
                        <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Unidade</th>
                        <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Saldo</th>
                        <th style="text-align: left; padding: 10px; border-bottom: 2px solid #dddddd;">Quantidade Requerida</th>
                    </tr>
                </thead>
                <tbody id="body-table">
                    <tr>
                        <td style="padding: 10px; border-bottom: 1px solid #dddddd;">29322</td>
                        <td style="padding: 10px; border-bottom: 1px solid #dddddd;">Marcador Quad Bco Azul Ponta 4,0mm</td>
                        <td style="padding: 10px; border-bottom: 1px solid #dddddd;">2</td>
                        <td style="padding: 10px; border-bottom: 1px solid #dddddd;">CX</td>
                        <td style="padding: 10px; border-bottom: 1px solid #dddddd;">0</td>
                        <td style="padding: 10px; border-bottom: 1px solid #dddddd;">0</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div style="display: flex; justify-content: space-between; padding: 15px; background-color: #f4f4f4;">
            <button style="padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; background-color: #d9534f; color: white;">Recusar</button>
            <button style="padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; background-color: #5cb85c; color: white;">Confirmar</button>
        </div>
    </div> -->

  </section>
  <section class="content" id="concluidas">
    <div class="container">
      <h1>Baixar relatório do curso</h1>
      <div class="search-container">
          <input type="text" placeholder="Pesquisar..." class="search-input">
          <button class="search-button">Buscar</button>
      </div>
      <div class="course">
          <h2>Técnico em Informática para Internet</h2>
          <p><strong>Cód:</strong> 000001</p>
          <p><strong>Turno:</strong> Tarde</p>
          <p><strong>Professor:</strong> Turiano Santos</p>
          <button class="download-button">Baixar</button>
      </div>
      <div class="course">
          <h2>Técnico em soldagem</h2>
          <p><strong>Cód:</strong> 000002</p>
          <p><strong>Turno:</strong> Manhã</p>
          <p><strong>Professor:</strong> Turiano Santos</p>
          <button class="download-button">Baixar</button>
      </div>
      <div class="course">
          <h2>Técnico em Costura</h2>
          <p><strong>Cód:</strong> 000003</p>
          <p><strong>Turno:</strong> Noite</p>
          <p><strong>Professor:</strong> Turiano Santos</p>
          <button class="download-button">Baixar</button>
      </div>
      <div class="course">
          <h2>Técnico de panificação</h2>
          <p><strong>Cód:</strong> 000004</p>
          <p><strong>Turno:</strong> Manhã</p>
          <p><strong>Professor:</strong> Turiano Santos</p>
          <button class="download-button">Baixar</button>
        </div>
        
  </div>
  
      <!-- MODAL SOLICITAÇÕES -->
      <div class="course">
        <div class="accordion-header">
          <span>Técnico em Informática para Internet</span>
          <span class="arrow">&#9650;</span>
        </div>
        <div class="accordion-content">
          <p>Cód: 000001</p>
          <p>Turno - Manhã</p>
          <p>Período: 01/01/2025 à 01/07/2026</p>
          <button class="open-modal-btn" onclick="openModal()">Abrir Solicitação</button>
        </div>
      </div>
      <!-- Primeiro Modal: Confirmação -->
      <div id="confirmModal" class="modal-2">
        <div class="modal-content">
          <div class="modal-header"></div>
          <p>Tem certeza que deseja enviar?</p>
          <div class="modal-footer-2">
            <button id="cancelBtn" class="cancel">Não</button>
            <button id="sendBtn">Sim</button>
          </div>
        </div>
      </div>
      
      <!-- Segundo Modal: Sucesso -->
      <div id="successModal" class="modal-2">
        <div class="modal-content-2">
          <div class="modal-box"></div>
          <div class="checkmark-container">
            <div class="checkmark-circle"></div>
            
            <div class="checkmark-container">
              <svg viewBox="0 0 100 100">
                <path class="check" d="M30 52 L43 65 L70 35"></path>
              </svg>
            </div>
          </div>
          <div class="okBtn-box">
            <p>Solicitação enviada com Sucesso!</p>
            
            <button id="okBtn">OK</button>
          </div>
        </div>
      </div>
      

  
  </section>
  </div>
   
  <!-- MODAL CONFIG -->
  <div class="custom-modal" id="profileModal">
    <div class="custom-modal-content">
        <div class="modal-header">
            <h2>PERFIL</h2>
            <div class="close-button">
                <span class="custom-close" id="closeProfileModal">
                    <i class="fa-solid fa-x" style="color: #808080;"></i>
                </span>
            </div>
        </div>
        <div class="fot">
            <img src="" alt="Foto de Perfil" id="profileImage">
        </div>
        <div class="modal-body">
            <p>Imagem do Perfil:</p>
            <div class="img-troca">
                <label for="newProfileImage" class="Profile">
                    <i class="fa-solid fa-upload" style="color: #ffffff;"></i>
                    Alterar Imagem
                </label>
                <input type="file" id="newProfileImage" class="custom-file-input">
            </div>
            <button for="SaveProfileImage" class="custom-file-label" id="saveProfileImage">Salvar</button>
            <div class="container">
                <h1 id="SignatureTittle">Assinatura Digital</h1>
                <p>Registre a sua assinatura digital abaixo.</p>
                <div class="signature-container" id="signature-container">
                    <canvas id="signatureCanvas"></canvas>
                    <div>
                        <button class="btn1" id="limpar">Limpar</button>
                        <button id="saveSignatureImage">Salvar Assinatura</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
  <script>
    
    // Seleciona elementos do DOM
    const tabs = document.querySelectorAll('.tab');
    const contents = document.querySelectorAll('.content');

    // Abrir e fechar o modal
    document.getElementById("openProfileModal").addEventListener("click", function () {
      document.getElementById("profileModal").style.display = "block";
    });
    document.getElementById("closeProfileModal").addEventListener("click", function () {
      document.getElementById("profileModal").style.display = "none";
    });
    // Fechar o modal ao clicar fora do conteúdo
    window.addEventListener("click", function (event) {
      const modal = document.getElementById("profileModal");
      if (event.target === modal) {
        modal.style.display = "none";
      }
    });

    // Função para alternar o acordeão
    document.querySelectorAll('.accordion-header').forEach(header => {
      header.addEventListener('click', () => {
        // Alterna a classe 'active' para o header clicado
        header.classList.toggle('active');

        // Se o conteúdo do acordeão estiver visível, esconda-o, caso contrário, mostre-o
        const content = header.nextElementSibling;
        if (content.style.display === "block") {
          content.style.display = "none";
        } else {
          content.style.display = "block";
        }
      });
    });
  
  // Função para ativar uma aba específica
  function activateTab(tabName) {
            // Remove a classe ativa de todas as abas e conteúdos
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            // Adiciona a classe ativa à aba e ao conteúdo correspondente
            const targetTab = document.querySelector(`.tab.${tabName}`);
            const targetContent = document.getElementById(tabName);
            if (targetTab && targetContent) {
                targetTab.classList.add('active');
                targetContent.classList.add('active');
            }
        }
  // Gerencia cliques manuais nas abas
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
        // Remover a classe ativa de todas as abas e conteúdos
        tabs.forEach(t => t.classList.remove('active'));
        contents.forEach(c => c.classList.remove('active'));
        // Adicionar a classe ativa ao botão clicado e ao conteúdo correspondente
        tab.classList.add('active');
        const target = document.getElementById(tab.dataset.tab);
          target.classList.add('active');
    });
  });
  </script>
  <script type="module" src="./js/setor_de_compras.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
  
  <script>
  // Função para abrir o modal
function openModal() {
    var modal = document.getElementById("modalOverlay");
    modal.style.display = "block"; // Exibe o modal
}

// Função para fechar o modal
function closeModal() {
    var modal = document.getElementById("modalOverlay");
    modal.style.display = "none"; // Oculta o modal
}

// Fechar o modal ao clicar no botão "Confirmar"
document.getElementById("confirmBtn").addEventListener("click", function(event) {
    console.log("Solicitação confirmada!");
    closeModal(); // Fecha o modal
});

// Fechar o modal ao clicar no botão "Recusar"
document.getElementById("declineBtn").addEventListener("click", function(event) {
    console.log("Solicitação recusada!");
    closeModal(); // Fecha o modal
});
</script>
</body>

</html>